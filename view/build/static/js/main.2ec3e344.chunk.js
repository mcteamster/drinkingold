(this.webpackJsonpdrinkingold=this.webpackJsonpdrinkingold||[]).push([[0],[,,,,,,,function(e){e.exports=JSON.parse('[{"id":0,"type":"start","value":0,"symbol":"\ud83c\udfc1","title":"PRE-GAME","description":"Finish your drink! Ride\'s almost here."},{"id":1,"type":"points","value":1,"symbol":"\ud83c\udf7b","title":"A Cold One","description":"Just one they said..."},{"id":2,"type":"points","value":2,"symbol":"\ud83c\udf7b","title":"Twoies Blue","description":"Too easy mate, too easy."},{"id":3,"type":"points","value":3,"symbol":"\ud83c\udf7b","title":"XXX Bronze","description":"X hits the spot."},{"id":4,"type":"points","value":4,"symbol":"\ud83c\udf7b","title":"Bitter Victoria","description":"Tastes just the way Melburnians feel"},{"id":5,"type":"points","value":5,"symbol":"\ud83c\udf7b","title":"Dirty Murph\'s","description":"Started from the bottom, now we\'re just a little bit further from the bottom."},{"id":6,"type":"points","value":6,"symbol":"\ud83c\udf7b","title":"A Six Pack","description":"Who doesn\'t love a six pack?"},{"id":7,"type":"points","value":7,"symbol":"\ud83c\udf7b","title":"Big Fat Rams","description":"Nothin\' hits you quite as hard."},{"id":8,"type":"points","value":8,"symbol":"\ud83c\udf7b","title":"Goon of Fortune","description":"The game of legends."},{"id":9,"type":"points","value":9,"symbol":"\ud83c\udf7b","title":"Tinnies on the Roof","description":"Get off my dang roof!"},{"id":10,"type":"points","value":10,"symbol":"\ud83c\udf7b","title":"A Case","description":"The dinner party started off with one case. By the end almost everyone had a case."},{"id":11,"type":"points","value":11,"symbol":"\ud83c\udf7b","title":"Get on the Beers","description":"It\'s your civic duty. That\'s what must be done."},{"id":12,"type":"points","value":12,"symbol":"\ud83c\udf7b","title":"Get on the Beers","description":"It\'s your civic duty. That\'s what must be done."},{"id":13,"type":"points","value":13,"symbol":"\ud83c\udf7b","title":"Get on the Beers","description":"It\'s your civic duty. That\'s what must be done."},{"id":14,"type":"points","value":14,"symbol":"\ud83c\udf7b","title":"Get on the Beers","description":"It\'s your civic duty. That\'s what must be done."},{"id":15,"type":"points","value":15,"symbol":"\ud83c\udf7b","title":"Get on the Beers","description":"It\'s your civic duty. That\'s what must be done."},{"id":16,"type":"hazard","class":"A","symbol":"\ud83d\udea8","title":"Busted!","description":"Heck da police"},{"id":17,"type":"hazard","class":"A","symbol":"\ud83d\udea8","title":"Busted!","description":"Heck da police"},{"id":18,"type":"hazard","class":"A","symbol":"\ud83d\udea8","title":"Busted!","description":"Heck da police"},{"id":19,"type":"hazard","class":"B","symbol":"\ud83e\udd2e","title":"Munted","description":"Yuck, what the f*ck?"},{"id":20,"type":"hazard","class":"B","symbol":"\ud83e\udd2e","title":"Munted","description":"Yuck, what the f*ck?"},{"id":21,"type":"hazard","class":"B","symbol":"\ud83e\udd2e","title":"Munted","description":"Yuck, what the f*ck?"},{"id":22,"type":"hazard","class":"C","symbol":"\u2623\ufe0f","title":"Corona\'d","description":"The virus, not the beer."},{"id":23,"type":"hazard","class":"C","symbol":"\u2623\ufe0f","title":"Corona\'d","description":"The virus, not the beer."},{"id":24,"type":"hazard","class":"C","symbol":"\u2623\ufe0f","title":"Corona\'d","description":"The virus, not the beer."},{"id":25,"type":"hazard","class":"D","symbol":"\ud83e\udd7e","title":"Bounced","description":"But sir, I swear I\'m completely sober!"},{"id":26,"type":"hazard","class":"D","symbol":"\ud83e\udd7e","title":"Bounced","description":"But sir, I swear I\'m completely sober!"},{"id":27,"type":"hazard","class":"D","symbol":"\ud83e\udd7e","title":"Bounced","description":"But sir, I swear I\'m completely sober!"},{"id":28,"type":"hazard","class":"E","symbol":"\ud83d\udc94","title":"Seeing ur Ex","description":"That\'s rough buddy."},{"id":29,"type":"hazard","class":"E","symbol":"\ud83d\udc94","title":"Seeing ur Ex","description":"That\'s rough buddy."},{"id":30,"type":"hazard","class":"E","symbol":"\ud83d\udc94","title":"Seeing ur Ex","description":"That\'s rough buddy."},{"id":31,"type":"bonus","class":"B1","value":0,"symbol":"\ud83c\udf57","title":"Fried Chicken","description":"FLICKING GOOD"},{"id":32,"type":"bonus","class":"B2","value":0,"symbol":"\ud83c\udf2e","title":"Taco","description":"That\'s what I\'m taco \'bout"},{"id":33,"type":"bonus","class":"B3","value":0,"symbol":"\ud83c\udf55","title":"Street Pizza","description":"By the slice."},{"id":34,"type":"bonus","class":"B4","value":0,"symbol":"\ud83c\udf5f","title":"Chippies","description":"Dunno who\'s more fried tho"},{"id":35,"type":"bonus","class":"B5","value":0,"symbol":"\ud83c\udf5c","title":"Noodles","description":"P.S send noods"}]')},,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(1),i=s.n(a),n=s(8),r=s.n(n),o=(s(14),s(2)),c=s(3),l=s(5),d=s(4),u=(s(15),s(16),s(17),s(0));var m=function(e){var t=e.score,s=null===e||void 0===e?void 0:e.turn;!0!==e.info.active&&e.info.active!==s&&(t=0);var a=e.info.totalScore/(e.info.totalScore+t)*100,i=.1*(e.info.totalScore+t),n=parseInt(sessionStorage.getItem("playerID"))===parseInt(e.info.id)?"forestgreen":"darkslateblue",r={width:"".concat(i,"em"),minWidth:"1.5em",borderRadius:"25vw 2vw 25vw 2vw/2vw 25vw 2vw 25vw",backgroundColor:e.info.colour,backgroundImage:"linear-gradient(90deg, ".concat(e.info.colour,", ").concat(a,"%, ").concat(e.info.colour,", ").concat(a,"%, rgba(255,255,255,0.66))")},o={color:n};return Object(u.jsxs)("div",{className:"Player",children:[Object(u.jsx)("div",{className:"meeple centered number",style:r,children:e.info.totalScore+t}),Object(u.jsxs)("div",{style:o,children:[e.info.name,"\xa0",Object(u.jsx)("span",{id:"status".concat(e.info.id),className:"readyStatus"})]})]})};var y=function(e){var t=e.players.sort((function(e,t){return e.id>t.id})).map((function(e){return!0===e.active&&Object(u.jsx)("li",{children:Object(u.jsx)(m,{info:e,score:0})},e.id)})),s=e.room?"\ud83d\udd11 ".concat(e.room):"";return Object(u.jsxs)("div",{className:"Landing setup",children:[Object(u.jsx)("h1",{children:"Drinkin' Gold"}),Object(u.jsxs)("div",{id:"instructions",children:["\ud83c\udf89\xa0Get\xa0ready\xa0for\xa0a\xa05\xa0day\xa0bender! Who\xa0will\xa0drink\xa0the\xa0most\xa0\ud83c\udf7b?",Object(u.jsx)("br",{}),"\ud83d\udc4d Tap right \u27a1\ufe0f to keep drinking \ud83c\udf7a",Object(u.jsx)("br",{}),"\ud83d\udc4e Tap left \u2b05\ufe0f to go to sleep \ud83d\ude34",Object(u.jsx)("br",{}),"\ud83c\udf55 Maybe pick up a snacc on the way home?",Object(u.jsx)("br",{}),"\u26a0\ufe0f\xa0Look\xa0out\xa0for\xa0hazards - 2\xa0strikes\xa0will\xa0ruin\xa0your\xa0night\xa0\ud83e\udd2e"]}),Object(u.jsx)("ul",{className:"playerList",id:"lobbyList",children:t}),Object(u.jsx)("div",{className:"number",id:"lobbyMessage",children:s}),Object(u.jsx)("input",{id:"roomInput",className:"hidden",type:"number",placeholder:"Room \ud83d\udd11",min:"1000",max:"9999"}),Object(u.jsx)("input",{id:"nameInput",type:"text",placeholder:"Name \ud83d\udc4b",maxLength:"12"}),Object(u.jsx)("div",{id:"warning"}),Object(u.jsxs)("div",{id:"buttonTray",className:"centered",children:[Object(u.jsx)("div",{id:"joinGame",className:"lobbyButton",children:"Join"}),Object(u.jsx)("div",{id:"enterGame",className:"lobbyButton",children:"Create"}),Object(u.jsx)("div",{id:"startGame",className:"lobbyButton hidden",children:"START"})]})]})};s(19);function h(e){return Object(u.jsx)("div",{className:"Title centered",children:e.text})}function b(e){return Object(u.jsx)("div",{className:"FlavourText centered",children:Object(u.jsx)("p",{children:e.text})})}var p=function(e){return Object(u.jsxs)("div",{className:"Card play",children:[Object(u.jsxs)("div",{className:"number centered",id:"stats",children:[Object(u.jsxs)("div",{children:["\ud83c\udf19\xa0",e.meta.round," of 5"]}),Object(u.jsxs)("div",{children:["\ud83d\udd11\xa0",e.meta.room]})]}),Object(u.jsx)("div",{id:"image",className:"centered",children:e.data.symbol}),Object(u.jsx)(h,{text:e.data.title}),Object(u.jsxs)("div",{className:"centered",id:"score",children:[Object(u.jsxs)("span",{className:"number",children:[e.meta.score,"\xa0\ud83c\udf7b"]}),"\xa0tonight"]}),Object(u.jsx)(b,{text:e.data.description})]})};s(20),s(21);var v=function(e){var t=e.info.map((function(e){return!0===e.active&&Object(u.jsxs)("li",{children:[Object(u.jsx)("div",{className:"bonusSymbol",children:e.symbol}),Object(u.jsx)("div",{className:"bonusValue number",children:"B0"===e.class?"".concat(e.value):"+".concat(e.value)})]},e.id)}));return Object(u.jsxs)("div",{className:"Bonuses",children:[Object(u.jsx)("li",{className:"tip",children:"Bail to claim these for yourself"}),t]})};var j=function(e){var t=e.players.sort((function(e,t){return e.name>t.name})).sort((function(t,s){return t.totalScore+(!0!==t.active&&t.active!==e.meta.turn?0:e.meta.score)<s.totalScore+(!0!==s.active&&s.active!==e.meta.turn?0:e.meta.score)})).map((function(t){return Object(u.jsx)("li",{className:!0===t.active||t.active===e.meta.turn?"":"grey",children:Object(u.jsx)(m,{info:t,score:e.meta.score,turn:e.meta.turn})},t.id)}));return Object(u.jsxs)("div",{className:"Backwards play",children:[Object(u.jsx)("div",{className:"head mobileInvis",children:"\ud83c\udfc5"}),Object(u.jsx)("ul",{className:"playerList",id:"scoreboard",children:t}),Object(u.jsx)(v,{info:e.bonuses})]})};s(22),s(23);var f=function(e){var t=e.info.map((function(e){return Object(u.jsx)("li",{className:0===e.active?"grey hazardSymbol":"hazardSymbol",children:e.symbol},e.id)}));return Object(u.jsxs)("div",{className:"Hazards",children:[Object(u.jsx)("li",{className:"tip",children:"Strike twice and your night is over"}),t]})};function O(e){return Object(u.jsxs)("div",{className:"Turn",children:[e.data.symbol,"\xa0",e.data.description]})}var x=function(e){var t=e.history.map((function(t){return Object(u.jsx)("li",{children:Object(u.jsx)(O,{data:t,meta:e.meta})},"".concat(t.drawnTurn))}));return Object(u.jsxs)("div",{className:"Forwards play",children:[Object(u.jsx)("div",{className:"head mobileInvis",children:"\ud83d\udd51"}),Object(u.jsx)("ul",{className:"historyList",children:t}),Object(u.jsx)(f,{info:e.hazards})]})},g=s(9),S=(s(24),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={tunrntime:a.props.tunrntime-1e3,time:a.turntime},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){var t,s=document.querySelector(".Card");if(e.turntime===e.props.turntime-1e3){var a=100*e.state.time/e.turntime-10;s.style.backgroundImage="linear-gradient(0deg, ".concat(e.color,", ").concat(a-1,"%, ").concat(e.color,", ").concat(a-1,"%, beige)"),t=e.state.time>30?e.state.time-30:0}else t=e.props.turntime-1e3,e.turntime=t,"hazard"===e.props.cardType?(e.hazardMax=Math.max.apply(Math,Object(g.a)(e.props.hazards.map((function(e){return e.active})))),e.hazardMax>=2?e.color="red":e.color="aqua"):"bonus"===e.props.cardType?e.color="yellow":e.color="goldenrod";e.setState({time:t})}),30)}},{key:"render",value:function(){return Object(u.jsx)("div",{})}}]),s}(i.a.Component));s(25);function k(){return Object(u.jsx)("div",{className:"Yeah centered invisible",id:"yes",children:Object(u.jsxs)("b",{children:["YEAH!",Object(u.jsx)("br",{}),"\ud83d\udc4d"]})})}function w(){return Object(u.jsx)("div",{className:"Nah centered invisible",id:"no",children:Object(u.jsxs)("b",{children:["nah.",Object(u.jsx)("br",{}),"\ud83d\udc4e"]})})}function I(e){var t,s;if("play"===e.state.meta.phase){var a=e.state.players.find((function(e){return e.id===parseInt(sessionStorage.getItem("playerID"))})),i=e.state.hazards.map((function(e){return e.active})).filter((function(e){return e>=2})).length;if(!0===a.active&&0!==e.state.meta.card)switch(Math.floor(10*Math.random())){case 0:s="Kickin' On!",t="\ud83c\udfc3";break;case 1:s="Kickin' On!",t="\ud83d\ude82";break;case 2:s="Kickin' On!",t="\ud83d\ude96";break;case 3:s="Kickin' On!",t="\ud83d\udeb2";break;case 4:s="Kickin' On!",t="\ud83d\udc0e";break;case 5:s="Kickin' On!",t="\ud83d\udef4";break;case 6:s="Kickin' On!",t="\ud83d\udef9";break;case 7:s="Kickin' On!",t="\u2708\ufe0f";break;case 8:s="Kickin' On!",t="\ud83d\ude80";break;case 9:s="Kickin' On!",t="\u26f4"}else 0!==i&&!1===a.active?(s="REKT'",t="\ud83d\ude35"):0===e.state.meta.card?(s="Here we go again...",t="\ud83d\ude02"):(s="Snoozin'",t="\ud83d\ude34")}else s="Ending the sesh...",t="\ud83c\udfe0";return Object(u.jsx)("div",{className:"Wait centered invisible",id:"wait",children:Object(u.jsxs)("b",{children:[s,Object(u.jsx)("br",{}),t]})})}s(26);var N=function(e){var t=e.players.sort((function(e,t){return e.name>t.name})).sort((function(e,t){return e.totalScore<t.totalScore})).map((function(e){return!0===e.active&&Object(u.jsx)("li",{children:Object(u.jsx)(m,{info:e,score:0,turn:0})},e.id)}));return Object(u.jsxs)("div",{className:"Endgame endgame",children:[Object(u.jsx)("h1",{children:"Final Scores"}),Object(u.jsx)("div",{className:"head",children:"\ud83c\udfc6"}),Object(u.jsx)("ul",{className:"playerList",children:t})]})},T=s(7),q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={meta:{room:"0000",round:0,turn:0,phase:"setup",card:0,score:0,turntime:0},history:[],players:[],hazards:[{id:1,class:"A",symbol:"\ud83d\udea8",active:0},{id:2,class:"B",symbol:"\ud83e\udd2e",active:0},{id:3,class:"C",symbol:"\u2623\ufe0f",active:0},{id:4,class:"D",symbol:"\ud83e\udd7e",active:0},{id:5,class:"E",symbol:"\ud83d\udc94",active:0}],bonuses:[{id:0,symbol:"\ud83e\udd64",active:!0,value:0}]},a}return Object(c.a)(s,[{key:"yes",value:function(){if("play"===this.state.meta.phase){var e=this.state.hazards.map((function(e){return e.active})).filter((function(e){return e>=2})).length,t=this.state.players.find((function(e){return e.id===parseInt(sessionStorage.getItem("playerID"))}));if(this.state.meta.round<=5&&0===e&&(!0===t.active||t.active===this.state.meta.turn)){this.sendMsg("yeah");var s=document.querySelector("#yes");s.classList.add("visible"),setTimeout((function(){s.classList.remove("visible")}),500)}}}},{key:"no",value:function(){if("play"===this.state.meta.phase){var e=this.state.hazards.map((function(e){return e.active})).filter((function(e){return e>=2})).length,t=this.state.players.find((function(e){return e.id===parseInt(sessionStorage.getItem("playerID"))}));if(0!==this.state.meta.card&&0===e&&(!0===t.active||t.active===this.state.meta.turn)){this.sendMsg("nah");var s=document.querySelector("#no");s.classList.add("visible"),setTimeout((function(){s.classList.remove("visible")}),500)}}}},{key:"showScores",value:function(){"play"===this.state.meta.phase&&document.querySelector("#scoreboard").classList.toggle("invisible")}},{key:"showHist",value:function(){if("play"===this.state.meta.phase){var e=document.querySelector(".historyList");"hidden"===e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden"}}},{key:"componentDidMount",value:function(){var e=this;this.ws=new WebSocket("ws://drinkingold.mcteamster.com"),this.ws.onopen=function(){var t=document.querySelector("#joinGame");t.addEventListener("click",(function(){var s=document.querySelector("#roomInput"),a=document.querySelector("#nameInput");""!==s.value?(document.querySelector("#warning").innerText="",e.sendMsg("enter")):""!==a.value?(document.querySelector("#warning").innerText="",s.style.display="block",a.style.display="none",document.querySelector("#enterGame").style.display="none",t.innerText="Enter"):a.style.border="0.25em solid red"})),document.querySelector("#enterGame").addEventListener("click",(function(){var t=document.querySelector("#nameInput");""!==t.value?e.sendMsg("enter"):t.style.border="0.25em solid red"})),document.querySelector("#startGame").addEventListener("click",(function(){e.sendMsg("start")})),document.querySelector("#yes").addEventListener("click",(function(){e.yes()})),document.querySelector("#no").addEventListener("click",(function(){e.no()})),document.querySelector("#showScore").addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.showScores()})),document.querySelector("#showHistory").addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.showHist()})),document.addEventListener("keydown",(function(t){switch(t.key){case"ArrowLeft":e.no();break;case"ArrowRight":e.yes();break;case"h":e.showHist();break;case"s":e.showScores()}}))},this.ws.onmessage=function(t){var s;switch(null===(s=(t=JSON.parse(t.data)).meta)||void 0===s?void 0:s.type){case"gameState":if(e.setState(t),"play"===t.meta.phase||"endgame"===t.meta.phase){var a=document.querySelector("#wait");a.classList.add("visible"),setTimeout((function(){a.classList.remove("visible")}),2e3)}document.querySelectorAll("#scoreboard li .Player .readyStatus").forEach((function(e){return e.innerText=""})),document.querySelectorAll(".setup").forEach((function(e){return e.style.visibility="setup"===t.meta.phase?"visible":"hidden"})),document.querySelectorAll(".play").forEach((function(e){return e.style.visibility="play"===t.meta.phase?"visible":"hidden"})),document.querySelectorAll(".endgame").forEach((function(e){return e.style.visibility="endgame"===t.meta.phase?"visible":"hidden"}));break;case"readyStatus":Object.keys(t.meta.data).forEach((function(e){!0===t.meta.data[e]&&(document.querySelector("#scoreboard li .Player #status".concat(e)).innerText="\u2714\ufe0f")}));break;case"secret":sessionStorage.setItem("playerID",t.id),sessionStorage.setItem("clientSecret",t.secret),1===t.id&&(document.querySelector("#startGame").style.display="block"),document.querySelector("#roomInput").style.display="none",document.querySelector("#nameInput").style.display="none",document.querySelector("#enterGame").style.display="none",document.querySelector("#joinGame").style.display="none";break;case"rejoin":"1"===sessionStorage.getItem("playerID")&&(document.querySelector("#startGame").style.display="block"),document.querySelector("#roomInput").style.display="none",document.querySelector("#nameInput").style.display="none",document.querySelector("#enterGame").style.display="none",document.querySelector("#joinGame").style.display="none";break;case"error":console.error(new Date+t.meta.data),"missingRoom"===t.meta.code?(document.querySelector("#roomInput").style.border="0.25em solid red",document.querySelector("#warning").innerText="Invalid Room"):"takenName"===t.meta.code&&(document.querySelector("#nameInput").style.display="block",document.querySelector("#nameInput").style.border="0.25em solid yellow",document.querySelector("#warning").innerText="Name Already Taken")}}}},{key:"sendMsg",value:function(e){var t={playerID:sessionStorage.getItem("playerID"),clientSecret:sessionStorage.getItem("clientSecret")};if("play"===this.state.meta.phase){if("yeah"===e)try{var s=this.state.players.find((function(e){return e.id===parseInt(sessionStorage.getItem("playerID"))}));!0!==s.active&&s.active!==this.state.meta.turn||(s.active=!0),t.data=!0}catch(n){console.error("Player ID Not Found")}else if("nah"===e)try{var a=this.state.players.find((function(e){return e.id===parseInt(sessionStorage.getItem("playerID"))}));!0!==a.active&&a.active!==this.state.meta.turn||(a.active=this.state.meta.turn),t.data=!1}catch(n){console.error("Player ID Not Found")}this.setState(this.state)}else if("setup"===this.state.meta.phase)if("enter"===e){var i=document.getElementById("roomInput").value;i<1e4&&i>0&&(t.roomID=Math.floor(i)),t.data=document.getElementById("nameInput").value}else"start"===e&&(t.data="start");this.ws.send(JSON.stringify(t))}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(y,{players:this.state.players,room:this.state.meta.room}),Object(u.jsx)(j,{players:this.state.players,bonuses:this.state.bonuses,meta:this.state.meta}),Object(u.jsx)(p,{data:T[this.state.meta.card],meta:this.state.meta}),Object(u.jsx)(x,{history:this.state.history,hazards:this.state.hazards,meta:this.state.meta}),Object(u.jsx)(S,{turntime:this.state.meta.turntime,hazards:this.state.hazards,cardType:T[this.state.meta.card].type}),Object(u.jsx)(k,{}),Object(u.jsx)(w,{}),Object(u.jsx)(I,{state:this.state}),Object(u.jsx)(N,{players:this.state.players}),Object(u.jsx)("div",{id:"showHistory",className:"play",children:Object(u.jsx)("div",{className:"head centered",children:"\ud83d\udd51"})}),Object(u.jsx)("div",{id:"showScore",className:"play",children:Object(u.jsx)("div",{className:"head centered",children:"\ud83c\udfc5"})})]})}}]),s}(i.a.Component);r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.2ec3e344.chunk.js.map