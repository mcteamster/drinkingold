{"version":3,"sources":["components/Player.js","components/Landing.js","components/Timer.js","components/Card.js","components/Bonuses.js","components/Backwards.js","components/Hazards.js","components/Forwards.js","components/Buttons.js","components/Endgame.js","App.js","index.js"],"names":["Player","props","style","backgroundColor","info","colour","view","borderRadius","className","totalScore","name","width","Landing","playerList","players","sort","a","b","id","map","player","active","lobbyMessage","room","type","placeholder","maxLength","Timer","state","tunrntime","time","turntime","setInterval","t","setState","clock","this","Math","floor","formatTime","React","Component","Title","text","FlavourText","Value","data","value","symbol","Card","meta","round","title","score","description","Bonuses","bonusList","bonus","class","Backwards","bonuses","Hazards","hazardList","hazard","undefined","Forwards","hazards","Yeah","Nah","Endgame","App","turn","phase","card","timeout","ws","WebSocket","onopen","document","querySelector","addEventListener","sendMsg","yes","classList","add","setTimeout","remove","no","onmessage","msg","JSON","parse","console","dir","querySelectorAll","forEach","e","visibility","sessionStorage","setItem","secret","display","error","Date","playerID","getItem","clientSecret","p","find","x","parseInt","err","roomInput","getElementById","roomID","send","stringify","cardData","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.165b9032.chunk.js","sourcesContent":["import './styles/Player.css';\r\n\r\nfunction Player(props) {\r\n  let style = {\r\n    backgroundColor: props.info.colour\r\n  }\r\n\r\n  if(props.view === \"forwards\"){\r\n    style.borderRadius = \"5vw 15vw 5vw 15vw/15vw 5vw 15vw 5vw\";\r\n    return (\r\n      <div className=\"Player\">\r\n        <div className=\"meeple centered number\" style={style}>{props.info.totalScore}</div>\r\n        <div>{props.info.name}</div>\r\n      </div>\r\n    );\r\n  } else if(props.view === \"backwards\") {\r\n    style.borderRadius = \"25vw 2vw 25vw 2vw/2vw 25vw 2vw 25vw\";\r\n    style.width = `calc(1.5em + ${0.1*props.info.totalScore}em)`;\r\n    return (\r\n      <div className=\"Player\">\r\n        <div className=\"meeple centered number\" style={style}>{props.info.totalScore}</div>\r\n        <div>{props.info.name}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Player;","import './styles/Landing.css';\r\nimport Player from './Player.js';\r\n\r\nfunction Landing(props) {\r\n    const players = props.players.sort((a,b)=> a.id > b.id) // Sort by ID in the lobby\r\n    const playerList = players.map((player)=>\r\n      (player.active === true) &&\r\n      (<li key={player.id}>\r\n        <Player info={player} view=\"forwards\"/>\r\n      </li>)\r\n    );\r\n\r\n    let lobbyMessage = (props.room) ? `🔑 ${props.room}` : `\"Get on the beers\"`\r\n\r\n    return (\r\n      <div className=\"Landing setup\">\r\n        <h1>Drinkin' Gold</h1>\r\n        <div className=\"number\" id=\"lobbyMessage\">{lobbyMessage}</div>\r\n        <ul className=\"playerList\">\r\n            {playerList}\r\n        </ul>\r\n        <input id=\"roomInput\" type=\"text\" placeholder=\"Room\" maxLength=\"4\"></input>\r\n        <input id=\"nameInput\" type=\"text\" placeholder=\"Name\" maxLength=\"10\"></input>\r\n        <div id=\"enterGame\" className=\"rounded\">ENTER</div>\r\n        <div id=\"startGame\">START</div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Landing;","import React from 'react';\r\nimport './styles/Timer.css';\r\n\r\nclass Timer extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      tunrntime: this.props.tunrntime - 1000, // One Second Buffer\r\n      time: this.turntime\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    setInterval(()=>{\r\n      let t;\r\n      if(this.turntime === this.props.turntime - 1000){\r\n        if(this.state.time > 100){\r\n          t = this.state.time - 100;\r\n        } else {\r\n          t = 0;\r\n        }\r\n      } else {\r\n        t = this.props.turntime - 1000;\r\n        this.turntime = t;\r\n      }\r\n      this.setState({time: t});\r\n    }, 100)\r\n  }\r\n\r\n  formatTime() {\r\n    let clock = this.state.time;\r\n    return `⏰ ${Math.floor(clock/1000)}.${Math.floor((clock%1000)/100)}`;\r\n  }\r\n\r\n  render(){\r\n    let clock = this.formatTime();\r\n    return(\r\n      <div className=\"Timer play\">{clock}</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Timer;","import './styles/Card.css';\r\nimport Timer from \"./Timer\";\r\n\r\nfunction Card(props) {\r\n  return (\r\n    <div className=\"Card play\">\r\n        <div className=\"number centered\" id=\"stats\">\r\n            <div>🔑&nbsp;{props.meta.room}</div>\r\n            <div>🌙&nbsp;{props.meta.round}/5</div>\r\n            <Timer turntime={props.meta.turntime} />\r\n        </div>\r\n        <Title text={props.data.title} />\r\n        <div className=\"number centered\" id=\"score\">{(props.meta.score>0) && props.meta.score}🍻</div>\r\n        <FlavourText text={props.data.description} />\r\n        <Value data={props.data} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Title(props) {\r\n    return (\r\n        <div className=\"Title centered\">\r\n            {props.text}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction FlavourText(props) {\r\n    return (\r\n        <div className=\"FlavourText centered\">\r\n            <p>\r\n                {props.text}&nbsp;<b>-- Kick On??</b>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Value(props) {\r\n    return (\r\n        <div className=\"Value centered number\">\r\n            {(props.data.type === \"points\") ? `+${props.data.value}${props.data.symbol}` : `${props.data.symbol}`}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import './styles/Bonuses.css';\r\n\r\nfunction Bonuses(props) {\r\n  const bonusList = props.info.map((bonus)=>\r\n    (bonus.active === true) && \r\n    (<li key={bonus.id}>\r\n      <div className=\"bonusSymbol\">\r\n        {bonus.symbol}\r\n      </div>\r\n      <div className=\"bonusValue number\">\r\n        {(bonus.class === \"B0\") ? `${bonus.value}` : `+${bonus.value}`}\r\n      </div>\r\n    </li>)\r\n  );\r\n\r\n  return (\r\n    <div className=\"Bonuses\">\r\n      {bonusList}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bonuses;","import './styles/Backwards.css';\r\nimport Player from './Player.js';\r\nimport Bonuses from './Bonuses.js';\r\n\r\nfunction Backwards(props) {\r\n  const players = props.players.sort((a,b)=> a.name > b.name).sort((a,b)=> a.totalScore < b.totalScore); // Sort By Score, Tiebreak Alphabetically\r\n  const playerList = players.map((player)=>\r\n    (player.active !== true) &&\r\n    (<li key={player.id}>\r\n      <Player info={player} view=\"backwards\" />\r\n    </li>)\r\n  );\r\n\r\n\r\n  return (\r\n    <div className=\"Backwards play\">\r\n      <div className=\"head\">👎</div>\r\n      <ul className=\"playerList\">\r\n        {playerList}\r\n      </ul>\r\n      <Bonuses info={props.bonuses}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Backwards;","import './styles/Hazards.css';\r\n\r\nfunction Hazards(props) {\r\n  const hazardList = props.info.map((hazard)=>\r\n    (<li key={hazard.id} className={(hazard.active === 0) ? \"grey\" : undefined}>\r\n      {hazard.symbol}\r\n    </li>)\r\n  );\r\n\r\n  return (\r\n    <div className=\"Hazards\">\r\n      {hazardList}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Hazards;","import './styles/Forwards.css';\r\nimport Player from './Player.js';\r\nimport Hazards from './Hazards.js';\r\n\r\nfunction Forwards(props) {\r\n  const players = props.players.sort((a,b)=> a.name > b.name).sort((a,b)=> a.totalScore < b.totalScore); // Sort By Score, Tiebreak Alphabetically\r\n  const playerList = players.map((player)=>\r\n    (player.active === true) &&\r\n    (<li key={player.id}>\r\n      <Player info={player} view=\"forwards\"/>\r\n    </li>)\r\n  );\r\n\r\n  return (\r\n    <div className=\"Forwards play\">\r\n      <div className=\"head\">👍</div>\r\n      <ul className=\"playerList\">\r\n        {playerList}\r\n      </ul>\r\n      <Hazards info={props.hazards} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Forwards;","import './styles/Buttons.css';\r\n\r\nfunction Yeah() {\r\n  return (\r\n    <div className=\"Yeah centered invisible\" id=\"yes\">\r\n      <b>YEAH!<br></br>👍</b>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Nah() {\r\n  return (\r\n    <div className=\"Nah centered invisible\" id=\"no\">\r\n      <b>nah.<br></br>👎</b>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Yeah, Nah };","import './styles/Endgame.css';\r\nimport Player from './Player.js';\r\n\r\nfunction Endgame(props) {\r\n    const players = props.players.sort((a,b)=> a.name > b.name).sort((a,b)=> a.totalScore < b.totalScore); // Sort By Score, Tiebreak Alphabetically\r\n    const playerList = players.map((player)=>\r\n      (player.active === true) &&\r\n      (<li key={player.id}>\r\n        <Player info={player} view=\"backwards\"/>\r\n      </li>)\r\n    );\r\n\r\n    return (\r\n      <div className=\"Endgame endgame\">\r\n        <h1>Final Scores</h1>\r\n        <ul className=\"playerList\">\r\n            {playerList}\r\n        </ul>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Endgame;","// Styles\r\nimport './App.css';\r\n\r\n// React Components\r\nimport React from 'react';\r\nimport Landing from './components/Landing';\r\nimport Card from './components/Card';\r\nimport Backwards from './components/Backwards';\r\nimport Forwards from './components/Forwards';\r\nimport Timer from './components/Timer';\r\nimport { Yeah, Nah } from './components/Buttons';\r\nimport Endgame from './components/Endgame';\r\n\r\n// Card Data\r\nimport cardData from './data/cardData.json';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      meta: {\r\n        room: \"0000\",\r\n        round: 0,\r\n        turn: 0,\r\n        phase: \"setup\",\r\n        card: 0,\r\n        score: 0,\r\n        timeout: 10000\r\n      },\r\n      players: [],\r\n      hazards: [\r\n        { \"id\": 1, \"class\": \"A\", \"symbol\": \"👮\", \"active\": 0 },\r\n        { \"id\": 2, \"class\": \"B\", \"symbol\": \"🤮\", \"active\": 0 },\r\n        { \"id\": 3, \"class\": \"C\", \"symbol\": \"☣️\", \"active\": 0 },\r\n        { \"id\": 4, \"class\": \"D\", \"symbol\": \"⛔\", \"active\": 0 },\r\n        { \"id\": 5, \"class\": \"E\", \"symbol\": \"💔\", \"active\": 0 }\r\n      ],\r\n      bonuses: [\r\n        { \"id\": 0, \"symbol\": \"🍺\", \"active\": true, \"value\": 0 }\r\n      ]\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Websocket Connection\r\n    this.ws = new WebSocket('ws://drinkingold.mcteamster.com');\r\n\r\n    // Bind Listeners to Buttons\r\n    this.ws.onopen = () => {\r\n      // Submit\r\n      document.querySelector('#enterGame').addEventListener('click', () => {\r\n        this.sendMsg(\"enter\");\r\n      });\r\n\r\n      // Start\r\n      document.querySelector('#startGame').addEventListener('click', () => {\r\n        this.sendMsg(\"start\");\r\n      });\r\n\r\n      // YES\r\n      document.querySelector('#yes').addEventListener('click', () => {\r\n        this.sendMsg(\"yeah\");\r\n        let yes = document.querySelector('#yes')\r\n        yes.classList.add('visible');\r\n        setTimeout(()=>{\r\n          yes.classList.remove('visible');\r\n        }, 1000);\r\n      });\r\n\r\n      // NO\r\n      document.querySelector('#no').addEventListener('click', () => {\r\n        this.sendMsg(\"nah\");\r\n        let no = document.querySelector('#no')\r\n        no.classList.add('visible');\r\n        setTimeout(()=>{\r\n          no.classList.remove('visible');\r\n        }, 1000);\r\n      });\r\n    };\r\n\r\n    // Update Game State\r\n    this.ws.onmessage = (msg) => {\r\n      msg = JSON.parse(msg.data);\r\n      console.dir(msg);\r\n      switch(msg.meta?.type) {\r\n        case \"gameState\":\r\n          this.setState(msg);\r\n          document.querySelectorAll(\".setup\").forEach(e => e.style.visibility = (msg.meta.phase === \"setup\") ? \"visible\" : \"hidden\");\r\n          document.querySelectorAll(\".play\").forEach(e => e.style.visibility = (msg.meta.phase === \"play\") ? \"visible\" : \"hidden\");\r\n          document.querySelectorAll(\".endgame\").forEach(e => e.style.visibility = (msg.meta.phase === \"endgame\") ? \"visible\" : \"hidden\");\r\n          break;\r\n        case \"secret\":\r\n          sessionStorage.setItem(\"playerID\", msg.id);\r\n          sessionStorage.setItem(\"clientSecret\", msg.secret);\r\n          if (msg.id === 1) {\r\n            document.querySelector(\"#startGame\").style.display = \"block\";\r\n          }\r\n          document.querySelector(\"#roomInput\").style.display = \"none\";\r\n          document.querySelector(\"#nameInput\").style.display = \"none\";\r\n          document.querySelector(\"#enterGame\").style.display = \"none\";\r\n          break;\r\n        case \"rejoin\":\r\n          document.querySelector(\"#roomInput\").style.display = \"none\";\r\n          document.querySelector(\"#nameInput\").style.display = \"none\";\r\n          document.querySelector(\"#enterGame\").style.display = \"none\";\r\n          break;\r\n        case \"error\":\r\n          console.error(new Date() + msg.meta.data);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n  }\r\n\r\n  // Send Message\r\n  sendMsg(type) {\r\n    let msg = {\r\n      playerID: sessionStorage.getItem(\"playerID\"),\r\n      clientSecret: sessionStorage.getItem(\"clientSecret\")\r\n    };\r\n\r\n    if (this.state.meta.phase === \"play\") {\r\n      // Signal Intent and update local state in advance\r\n      if (type === \"yeah\") {\r\n        try {\r\n          let p = this.state.players.find((x) => x.id === parseInt(sessionStorage.getItem(\"playerID\")))\r\n          if (p.active === true || p.active === this.state.meta.turn) {\r\n            p.active = true;\r\n          };\r\n          msg.data = true;\r\n        } catch (err) {\r\n          console.error(\"Player ID Not Found\")\r\n        }\r\n      } else if (type === \"nah\") {\r\n        try {\r\n          let p = this.state.players.find((x) => x.id === parseInt(sessionStorage.getItem(\"playerID\")))\r\n          if (p.active === true || p.active === this.state.meta.turn) {\r\n            p.active = this.state.meta.turn;\r\n          };\r\n          msg.data = false;\r\n        } catch (err) {\r\n          console.error(\"Player ID Not Found\")\r\n        }\r\n      }\r\n      this.setState(this.state);\r\n    } else if (this.state.meta.phase === \"setup\") {\r\n      // Set Player Name\r\n      if (type === \"enter\") {\r\n        let roomInput = document.getElementById(\"roomInput\").value;\r\n        if(roomInput < 10000 && roomInput > 0){\r\n          msg.roomID = Math.floor(roomInput);\r\n        }\r\n        msg.data = document.getElementById(\"nameInput\").value;\r\n      } else if (type === \"start\") {\r\n        msg.data = \"start\";\r\n      }\r\n    }\r\n    // Send\r\n    this.ws.send(JSON.stringify(msg));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Landing players={this.state.players} room={this.state.meta.room}/>\r\n        <Backwards players={this.state.players} bonuses={this.state.bonuses} />\r\n        <Card data={cardData[this.state.meta.card]} meta={this.state.meta} />\r\n        <Forwards players={this.state.players} hazards={this.state.hazards} />\r\n        <Yeah />\r\n        <Nah />\r\n        <Endgame players={this.state.players} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./index.css\";\r\nimport App from './App';\r\n\r\n// Render UI\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}